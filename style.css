:root{
  /* Palette claire façon GraphLab */
  --bg:#f3f5f9;          /* fond général */
  --panel:#ffffff;       /* cartes/panneaux */
  --panel2:#ffffff;      /* variante carte */
  --text:#1f2937;        /* gris foncé */
  --muted:#6b7280;       /* gris moyen */
  --accent:#2e7dd7;      /* bleu principal */
  --accent-2:#60a5fa;    /* bleu clair pour focus/selection */
  --border:#e5e7eb;      /* bordure cartes */
}

*{box-sizing:border-box}
body{
  margin:0;
  font-family: Inter, system-ui, Arial;
  color:var(--text);
  background:var(--bg);
}

.grid{
  display:grid;
  /* Était: 100px 1fr → passe à auto 1fr pour que la zone 3 grandisse avec le contenu */
  grid-template-rows: auto 1fr;
  grid-template-columns: 1fr 400px;
  gap: 12px;
  min-height: 100vh;
  padding: 12px;
}

/* Zone 3 (consignes en haut, style carte blanche) */
header#zone-3{
  grid-column: 1 / -1;
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:16px;
  padding:18px 24px;
  position:relative;
  display:flex;
  /* Était: align-items:center → pour s’agrandir selon le contenu */
  align-items:flex-start;
  justify-content:space-between;
}
header h1{
  font-size:22px; margin:0 0 6px 0; color:var(--text);
}
header p{
  margin:0; color:var(--muted); line-height:1.35;
  /* Evite tout débordement si un long mot/lien apparaît */
  overflow-wrap:anywhere;
}

/* Zone 4 : bouton Info */
#zone-4{ position:absolute; right:12px; top:12px; }
.info-btn{
  width:40px; height:40px; border-radius:12px;
  border:1px solid var(--border);
  background:var(--accent); color:#fff; font-weight:700; cursor:pointer;
  transition:transform .06s ease, filter .2s ease;
}
.info-btn:hover{ transform: translateY(-1px); filter:brightness(1.05); }

/* Zone 1 (graphe) */
#zone-1{
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:16px; padding:10px; min-height: 420px; position:relative;
}
#cy{
  position:absolute; inset:10px;
  border-radius:12px; background:#ffffff; /* fond blanc comme la carte */
}

/* ——— Arêtes colorées ——— */
.edge-green {
  line-color: #22c55e;
  target-arrow-color: #22c55e;
  width: 3px;
}
.edge-red {
  line-color: #ef4444;
  target-arrow-color: #ef4444;
  width: 3px;
}
.edge-grey {
  line-color: #9ca3af;
  target-arrow-color: #9ca3af;
  width: 3px;
}

/* Optionnel : survol/erreur */
.error-edge {
  line-color: #f59e0b !important;
  target-arrow-color: #f59e0b !important;
}

/* ——— Bouton cyclique ——— */
button.color-cycle { transition: background-color .2s, color .2s, border-color .2s; }
button.color-green { background:#22c55e; color:#0b3517; border-color:#16a34a; }
button.color-red   { background:#ef4444; color:#3b0a0a; border-color:#dc2626; }
button.color-grey  { background:#9ca3af; color:#111827; border-color:#6b7280; }
/* Zone 2 (panneau boutons) */
#zone-2{
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:16px; padding:18px; min-height: 420px;
  display:flex; flex-direction:column; gap:16px;
}
.card{
  background:var(--panel2);
  border:1px solid var(--border);
  border-radius:14px; padding:14px;
}
.row{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; }
.gap-sm > * { margin-right: 6px; }
label{color:var(--muted)}
select, button{
  background:#ffffff; color:var(--text);
  border:1px solid var(--border); border-radius:10px;
  padding:10px 12px; font-size:14px;
}
button.primary{ background:var(--accent); color:#fff; font-weight:700; border:1px solid transparent; }
button.secondary{ background:#10b981; color:#fff; font-weight:600; border:1px solid transparent; }
button.ghost{ background:#ffffff; }
button.danger{ background:#ef4444; color:#fff; font-weight:600; border:1px solid transparent; }
button:hover{ filter:brightness(1.03) }
button:disabled{ opacity:.6; cursor:not-allowed; }

/* Éditeur */
.editor-panel h3 {
  font-size: 14px;
  margin: 12px 0 8px 0;
  color: var(--text);
  font-weight: 600;
}
.editor-panel h3:first-child {
  margin-top: 8px;
}

input[type="text"], input[type="number"] {
  background: #ffffff;
  color: var(--text);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 8px 10px;
  font-size: 14px;
}
input[type="text"]:focus, input[type="number"]:focus {
  outline: 2px solid var(--accent-2);
  outline-offset: 0;
}
.hint{ font-size:12px; color:var(--muted); }

/* Helpers */
.hidden{ display:none !important; }

/* Responsive */
@media (max-width: 980px){
  /* Était: 120px auto auto → passe à auto auto auto pour laisser la consigne s’adapter */
  .grid{grid-template-rows: auto auto auto; grid-template-columns: 1fr;}
  #zone-1{ order:1 } #zone-2{ order:2 }
}

/* Modale */
dialog#help{
  width:min(680px, 92vw);
  border:1px solid var(--border); border-radius:16px;
  padding:0; background:var(--panel);
}
dialog::backdrop{ background:rgba(0,0,0,.35) }
.modal-header{
  display:flex; justify-content:space-between; align-items:center;
  padding:16px 18px; border-bottom:1px solid var(--border);
  background:#f8fafc; border-radius:16px 16px 0 0;
}
.modal-body{ padding:18px; color:var(--text); }

/* Feedback 1er sommet cliqué */
.selected-node{
  border-color: var(--accent-2) !important;
  border-width: 4px !important;
}


/* --- Bandeau de réussite (Zone 3) --- */
.win-banner{
  margin-top:12px;
  padding:10px 12px;
  border:1px solid #a7f3d0;   /* vert doux */
  background:#ecfdf5;         /* vert très clair */
  color:#065f46;              /* texte vert */
  border-radius:12px;
  display:flex; align-items:center; justify-content:space-between; gap:12px;
}
.win-banner.hidden{ display:none; }
.win-banner .wb-content{ display:flex; align-items:center; gap:8px; }
.win-banner .wb-actions{ display:flex; gap:8px; }
