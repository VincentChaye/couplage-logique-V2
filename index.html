<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Graphe k-partite â€“ Cytoscape (Modes & Niveaux)</title>
  <script src="https://unpkg.com/cytoscape@3.26.0/dist/cytoscape.min.js"></script>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <main class="grid">
    <!-- Zone 3 : Consignes -->
    <header id="zone-3">
      <div>
        <h1>Consignes</h1>
        <p>
          Choisis un <strong>mode</strong> : <em>PersonnalisÃ©</em> (tu rÃ¨gles k & n) ou <em>Niveaux</em> (prÃ©configurÃ©s).<br>
          Â« GÃ©nÃ©rer Â» crÃ©e un <em>k-partite</em> (complet en perso).
        </p>
      </div>
      <div id="zone-4">
        <button class="info-btn" id="openHelp" aria-label="Informations">i</button>
      </div>
    </header>

    <!-- Zone 1 : Graphe Cytoscape -->
    <section id="zone-1" aria-label="Zone graphe">
      <div id="cy" role="application" aria-label="Graphe Cytoscape"></div>
    </section>

    <!-- Zone 2 : Panneau de boutons / contrÃ´les -->
    <aside id="zone-2" aria-label="Panneau de contrÃ´le">
      <div class="card">
        <!-- Choix du mode -->
        <div class="row">
          <label for="mode">Mode</label>
          <select id="mode">
            <option value="editor" selected>Ã‰diteur de graphe</option>
            <option value="levels">Niveaux</option>
            <option value="templates">Templates</option>
          </select>
        </div>

        <!-- ContrÃ´les Ã‰diteur -->
        <div id="editor-controls" class="editor-panel">
          <h3>CrÃ©ation de nÅ“uds</h3>
          <div class="row gap-sm">
            <label for="nodePart">Partie</label>
            <input type="number" id="nodePart" min="1" max="10" value="1" style="width:60px">
            <label for="nodeLabel">Label</label>
            <input type="text" id="nodeLabel" placeholder="Nom du nÅ“ud" style="flex:1">
          </div>
          <button class="primary" id="btnAddNode" style="width:100%; margin-top:8px">+ Ajouter nÅ“ud</button>

          <h3 style="margin-top:16px">Actions rapides</h3>
          <div class="row" style="gap:6px">
            <button class="ghost" id="btnRandom">ArÃªtes alÃ©atoires</button>
            <button class="ghost" id="btnClear">RÃ©initialiser</button>
          </div>
          
          <h3 style="margin-top:16px">Import / Export</h3>
          <div class="row" style="gap:6px">
            <button class="secondary" id="btnExportJSON">ğŸ“¥ Exporter JSON</button>
            <button class="secondary" id="btnImportJSON">ğŸ“¤ Importer JSON</button>
          </div>
          <input type="file" id="fileInput" accept=".json" style="display:none">
        </div>

        <!-- ContrÃ´les niveaux -->
        <div id="level-controls" class="row hidden gap-sm" style="margin-top:10px">
          <label for="level">Niveau</label>
          <select id="level" aria-label="Choisir un niveau prÃ©dÃ©fini">
            <!-- Options injectÃ©es par script.js -->
          </select>
          <button class="primary" id="btnLoadLevel" style="margin-top:8px">Charger</button>
        </div>

        <!-- ContrÃ´les templates -->
        <div id="template-controls" class="hidden" style="margin-top:10px">
          <label for="template">Template</label>
          <select id="template">
            <option value="">-- Choisir un template --</option>
            <option value="bipartite_3_3">Bipartite Kâ‚‚,â‚ƒ (2 parties, 3 nÅ“uds)</option>
            <option value="tripartite_2_2_2">Tripartite (3 parties, 2 nÅ“uds)</option>
            <option value="star_5">Ã‰toile Ã  5 branches</option>
            <option value="cycle_6">Cycle de 6 nÅ“uds</option>
            <option value="complete_4">Complet Kâ‚„</option>
          </select>
          <button class="primary" id="btnLoadTemplate" style="width:100%; margin-top:8px">Charger template</button>
        </div>
      </div>

      <div class="card">
        <h3 style="margin:0 0 6px 0">Infos graphe</h3>
        <p id="stats" class="hint">â€”</p>
        <button class="ghost" id="btnPotential" style="width:100%; margin-top:8px">ArÃªtes potentielles</button>
      </div>

      <div class="card">
        <h3 style="margin:0 0 6px 0">OpÃ©rations</h3>
        <div class="row">
          <button id="btnLayout" class="ghost">Relancer layout</button>
          <button id="btnFit" class="ghost">Adapter vue</button>
        </div>
        <div class="row" style="margin-top:8px">
          <button id="btnDeleteNode" class="danger">Supprimer nÅ“ud</button>
        </div>
      </div>
    </aside>
  </main>

  <dialog id="help">
    <div class="modal-header">
      <strong>Guide d'utilisation</strong>
      <button class="info-btn" id="closeHelp" aria-label="Fermer">Ã—</button>
    </div>
    <div class="modal-body">
      <h3 style="margin-top:0">ğŸ¨ Modes disponibles</h3>
      <p>
        <strong>Ã‰diteur de graphe :</strong> CrÃ©ez vos propres graphes de A Ã  Z.<br>
        <strong>Niveaux :</strong> RÃ©solvez des Ã©nigmes prÃ©dÃ©finies.<br>
        <strong>Templates :</strong> Commencez avec des graphes classiques (Ã©toile, cycle, etc.).
      </p>

      <h3>âœï¸ CrÃ©er et modifier</h3>
      <p>
        <strong>Ajouter un nÅ“ud :</strong> Remplissez "Partie" et "Label" puis cliquez sur "+ Ajouter nÅ“ud".<br>
        <strong>Ajouter une arÃªte :</strong> Cliquez sur deux nÅ“uds successivement.<br>
        <strong>Supprimer une arÃªte :</strong> Double-cliquez sur une arÃªte.<br>
        <strong>Supprimer un nÅ“ud :</strong> SÃ©lectionnez-le puis cliquez sur "Supprimer nÅ“ud".<br>
        <strong>DÃ©placer les nÅ“uds :</strong> Cliquez-glissez pour repositionner.<br>
        <strong>SÃ©lection multiple :</strong> Maintenez <kbd>Shift</kbd> (Majuscule).
      </p>

      <h3>ğŸ’¾ Import / Export JSON</h3>
      <p>
        <strong>Exporter :</strong> Sauvegardez votre graphe au format JSON pour le rÃ©utiliser plus tard.<br>
        <strong>Importer :</strong> Chargez un graphe depuis un fichier JSON existant.<br>
        Format : positions des nÅ“uds, arÃªtes, parties, et mÃ©tadonnÃ©es.
      </p>

      <h3>ğŸ› ï¸ Outils rapides</h3>
      <p>
        <strong>ArÃªtes alÃ©atoires :</strong> GÃ©nÃ¨re des arÃªtes entre diffÃ©rentes parties.<br>
        <strong>ArÃªtes potentielles (Niveaux) :</strong> Affiche toutes les connexions possibles en gris.<br>
        <strong>Relancer layout :</strong> RÃ©organise automatiquement le graphe.<br>
        <strong>Adapter vue :</strong> Recentre et ajuste le zoom.<br>
        <strong>RÃ©initialiser :</strong> Supprime tous les nÅ“uds et arÃªtes.
      </p>
    </div>
  </dialog>


<script src="niveau1.js"></script>
<script src="niveau2.js"></script>
<script src="niveau3.js"></script>
<script src="niveau4.js"></script>
<script src="niveau5.js"></script>
<script src="niveau6.js"></script>
<script src="script.js"></script>


</body>
</html>
